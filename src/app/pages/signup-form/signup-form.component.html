<form [formGroup]="signUpForm" (ngSubmit)="onSubmit()">
    <div>
        <label for="username">Nom utilisateur :</label>
        <input type="text" id="username" formControlName="username" />
        @if (signUpForm.get('username')?.invalid &&
        signUpForm.get('username')?.touched) {
        <div class="invalid">
            @if (signUpForm.get('username')?.errors?.['required']) {
            <span class="invalid">Le nom d'utilisateur est requis.</span>
            } @if (signUpForm.get('username')?.errors?.['minlength']) {
            <span class="invalid">Le nom doit comporter au moins 3 caractères.</span>
            }
        </div>
        }
    </div>
    <div>
        <label for="email">Adresse email :</label>
        <input type="email" id="email" formControlName="email" />
        @if (signUpForm.get('email')?.invalid &&
        signUpForm.get('email')?.touched) {
        <div class="invalid">
            @if (signUpForm.get('email')?.errors?.['required']) {
            <span class="invalid">L'email' est requis.</span>
            } @if (signUpForm.get('email')?.errors?.['email']) {
            <span class="invalid">Veuillez entrer une adresse email valide.</span>
            }
        </div>
        }
    </div>
    <div formGroupName="passwords">
        <div>
            <label for="password">Mot de passe</label>
            <input type="password" id="password" formControlName="password" />
            @if (signUpForm.get('passwords.password')?.invalid &&
            signUpForm.get('passwords.password')?.touched ) {
            <div class="invalid">
                @if (signUpForm.get('passwords.password')?.errors?.['required']) {
                <span>Le mot de passe est requis.</span>
                } @if (signUpForm.get('passwords.password')?.errors?.['securePassword'])
                {
                <span>Le mot de passe doit contenir au moins 12 caractères, avec une
                    majuscule, une minuscule, un chiffre, et un caractère spécial.</span>
                }
            </div>
            }
        </div>
        <div>
            <label for="confirmPassword">Confirmer le mot de passe</label>
            <input type="password" id="confirmPassword" formControlName="confirmPassword" />
            <div class="invalid">
                @if (signUpForm.get('passwords')?.errors?.['passwordsMismatch'] &&
                signUpForm.get('passwords.confirmPassword')?.touched) {
                <span>Les mots de passe ne correspondent pas.</span>
                }
            </div>
        </div>
    </div>
    <button type="submit" [disabled]="signUpForm.invalid">S'incrire</button>
</form>